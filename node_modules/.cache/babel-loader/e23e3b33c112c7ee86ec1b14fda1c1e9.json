{"ast":null,"code":"var _jsxFileName = \"/Users/ilirs/Desktop/task ff/tech-homework-frontend-ext/src/pages/Home/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useMemo } from 'react';\nimport Map, { Marker, Popup } from 'react-map-gl';\nimport { useMediaQuery } from 'react-responsive';\nimport styled from 'styled-components';\nimport { MAP_TOKEN } from 'config';\nimport pois from 'data/pois.json';\nimport pinIcon from 'assets/icons/location-pin.png';\nimport Sidebar from 'components/Sidebar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledHome = styled.div`\n  display: flex;\n  flex-direction: ${p => p.isTabletOrMobile ? 'column' : 'row'};\n`;\n_c = StyledHome;\nconst StyledPopUpContent = styled.div`\n  padding: 10px;\n`;\n_c2 = StyledPopUpContent;\nconst StyledText = styled.div``;\n_c3 = StyledText;\nconst mapStyle = {\n  width: '100%',\n  minHeight: '100vh'\n};\n\nconst Home = () => {\n  _s();\n\n  const [popupInfo, setPopupInfo] = useState(null);\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n  const isTabletOrMobile = useMediaQuery({\n    query: '(max-width: 1224px)'\n  });\n  const refMap = useRef();\n\n  const zoomIntoStore = store => {\n    refMap.current.flyTo({\n      center: [store.longitude, store.latitude],\n      zoom: 15\n    }); // Close drawer\n\n    isTabletOrMobile && setIsDrawerOpen(false);\n  };\n\n  const pins = useMemo(() => pois.map((p, index) => /*#__PURE__*/_jsxDEV(Marker, {\n    onClick: e => {\n      e.originalEvent.stopPropagation();\n      setPopupInfo(p);\n    },\n    longitude: p.longitude,\n    latitude: p.latitude,\n    anchor: \"bottom\",\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      src: pinIcon,\n      alt: \"pin-icon\",\n      width: \"30\",\n      height: \"30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }, this)\n  }, `marker-${index}`, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this)), []);\n  return /*#__PURE__*/_jsxDEV(StyledHome, {\n    isTabletOrMobile: isTabletOrMobile,\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      title: \"Stores\",\n      zoomIntoStore: zoomIntoStore,\n      setIsDrawerOpen: setIsDrawerOpen,\n      isDrawerOpen: isDrawerOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Map, {\n      ref: refMap,\n      initialViewState: {\n        latitude: 40,\n        longitude: -100,\n        zoom: 3.5\n      },\n      style: mapStyle,\n      mapStyle: \"mapbox://styles/mapbox/light-v10\",\n      mapboxAccessToken: MAP_TOKEN,\n      children: [pins, popupInfo && /*#__PURE__*/_jsxDEV(Popup, {\n        anchor: \"top\",\n        longitude: Number(popupInfo.longitude),\n        latitude: Number(popupInfo.latitude),\n        onClose: () => setPopupInfo(null),\n        children: /*#__PURE__*/_jsxDEV(StyledPopUpContent, {\n          children: [/*#__PURE__*/_jsxDEV(StyledText, {\n            children: popupInfo.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledText, {\n            children: popupInfo.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledText, {\n            children: popupInfo.city\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"pPHxYjtysKiICL+cc6rmKnQdHQc=\", false, function () {\n  return [useMediaQuery];\n});\n\n_c4 = Home;\nexport default Home;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"StyledHome\");\n$RefreshReg$(_c2, \"StyledPopUpContent\");\n$RefreshReg$(_c3, \"StyledText\");\n$RefreshReg$(_c4, \"Home\");","map":{"version":3,"names":["React","useState","useRef","useMemo","Map","Marker","Popup","useMediaQuery","styled","MAP_TOKEN","pois","pinIcon","Sidebar","StyledHome","div","p","isTabletOrMobile","StyledPopUpContent","StyledText","mapStyle","width","minHeight","Home","popupInfo","setPopupInfo","isDrawerOpen","setIsDrawerOpen","query","refMap","zoomIntoStore","store","current","flyTo","center","longitude","latitude","zoom","pins","map","index","e","originalEvent","stopPropagation","Number","name","address","city"],"sources":["/Users/ilirs/Desktop/task ff/tech-homework-frontend-ext/src/pages/Home/index.js"],"sourcesContent":["import React, { useState, useRef, useMemo } from 'react';\nimport Map, { Marker, Popup } from 'react-map-gl';\nimport { useMediaQuery } from 'react-responsive';\nimport styled from 'styled-components';\n\nimport { MAP_TOKEN } from 'config';\nimport pois from 'data/pois.json';\nimport pinIcon from 'assets/icons/location-pin.png';\nimport Sidebar from 'components/Sidebar';\n\nconst StyledHome = styled.div`\n  display: flex;\n  flex-direction: ${(p) => (p.isTabletOrMobile ? 'column' : 'row')};\n`;\n\nconst StyledPopUpContent = styled.div`\n  padding: 10px;\n`;\n\nconst StyledText = styled.div``;\n\nconst mapStyle = {\n  width: '100%',\n  minHeight: '100vh',\n};\n\nconst Home = () => {\n  const [popupInfo, setPopupInfo] = useState(null);\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n  const isTabletOrMobile = useMediaQuery({ query: '(max-width: 1224px)' });\n  const refMap = useRef();\n\n  const zoomIntoStore = (store) => {\n    refMap.current.flyTo({\n      center: [store.longitude, store.latitude],\n      zoom: 15,\n    });\n    // Close drawer\n    isTabletOrMobile && setIsDrawerOpen(false);\n  };\n\n  const pins = useMemo(\n    () =>\n      pois.map((p, index) => (\n        <Marker\n          key={`marker-${index}`}\n          onClick={(e) => {\n            e.originalEvent.stopPropagation();\n            setPopupInfo(p);\n          }}\n          longitude={p.longitude}\n          latitude={p.latitude}\n          anchor=\"bottom\"\n        >\n          <img src={pinIcon} alt=\"pin-icon\" width=\"30\" height=\"30\" />\n        </Marker>\n      )),\n    []\n  );\n\n  return (\n    <StyledHome isTabletOrMobile={isTabletOrMobile}>\n      <Sidebar\n        title=\"Stores\"\n        zoomIntoStore={zoomIntoStore}\n        setIsDrawerOpen={setIsDrawerOpen}\n        isDrawerOpen={isDrawerOpen}\n      />\n      <Map\n        ref={refMap}\n        initialViewState={{\n          latitude: 40,\n          longitude: -100,\n          zoom: 3.5,\n        }}\n        style={mapStyle}\n        mapStyle=\"mapbox://styles/mapbox/light-v10\"\n        mapboxAccessToken={MAP_TOKEN}\n      >\n        {pins}\n        {popupInfo && (\n          <Popup\n            anchor=\"top\"\n            longitude={Number(popupInfo.longitude)}\n            latitude={Number(popupInfo.latitude)}\n            onClose={() => setPopupInfo(null)}\n          >\n            <StyledPopUpContent>\n              <StyledText>{popupInfo.name}</StyledText>\n              <StyledText>{popupInfo.address}</StyledText>\n              <StyledText>{popupInfo.city}</StyledText>\n            </StyledPopUpContent>\n          </Popup>\n        )}\n      </Map>\n    </StyledHome>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}