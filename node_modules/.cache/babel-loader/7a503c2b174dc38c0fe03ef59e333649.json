{"ast":null,"code":"var _jsxFileName = \"/Users/ilirs/Desktop/task ff/tech-homework-frontend-ext/src/pages/Home/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useMemo } from 'react';\nimport Map, { Marker, Popup } from 'react-map-gl';\nimport { useMediaQuery } from 'react-responsive';\nimport styled from 'styled-components';\nimport { MAP_TOKEN } from 'config';\nimport pois from 'data/pois.json';\nimport pinIcon from 'assets/icons/location-pin.png';\nimport Sidebar from 'components/Sidebar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledHome = styled.div`\n  display: flex;\n  flex-direction: ${p => p.isTabletOrMobile ? 'column' : 'row'};\n`;\n_c = StyledHome;\nconst StyledPopUpContent = styled.div`\n  padding: 10px;\n`;\n_c2 = StyledPopUpContent;\nconst StyledText = styled.div``;\n_c3 = StyledText;\nconst MapWrapper = styled.div`\n  width: 100%;\n`;\n_c4 = MapWrapper;\nconst mapStyle = {\n  width: '100%',\n  minHeight: '100vh'\n};\n\nconst Home = () => {\n  _s();\n\n  const [popupInfo, setPopupInfo] = useState(null);\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n  const isTabletOrMobile = useMediaQuery({\n    query: '(max-width: 1224px)'\n  });\n  const refMap = useRef();\n\n  const zoomIntoStore = store => {\n    refMap.current.flyTo({\n      center: [store.longitude, store.latitude],\n      zoom: 15\n    }); // Close drawer\n\n    isTabletOrMobile && setIsDrawerOpen(false);\n  };\n\n  const pins = useMemo(() => pois.map((p, index) => /*#__PURE__*/_jsxDEV(Marker, {\n    onClick: e => {\n      e.originalEvent.stopPropagation();\n      setPopupInfo(p);\n    },\n    longitude: p.longitude,\n    latitude: p.latitude,\n    anchor: \"bottom\",\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      src: pinIcon,\n      alt: \"pin-icon\",\n      width: \"30\",\n      height: \"30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }, this)\n  }, `marker-${index}`, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this)), []);\n  return /*#__PURE__*/_jsxDEV(StyledHome, {\n    isTabletOrMobile: isTabletOrMobile,\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      title: \"Stores\",\n      zoomIntoStore: zoomIntoStore,\n      setIsDrawerOpen: setIsDrawerOpen,\n      isDrawerOpen: isDrawerOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MapWrapper, {\n      \"data-testid\": \"map-gl\",\n      children: /*#__PURE__*/_jsxDEV(Map, {\n        ref: refMap,\n        initialViewState: {\n          latitude: 40,\n          longitude: -100,\n          zoom: 3.5\n        },\n        style: mapStyle,\n        mapStyle: \"mapbox://styles/mapbox/light-v10\",\n        mapboxAccessToken: MAP_TOKEN,\n        children: [pins, popupInfo && /*#__PURE__*/_jsxDEV(Popup, {\n          anchor: \"top\",\n          longitude: Number(popupInfo.longitude),\n          latitude: Number(popupInfo.latitude),\n          onClose: () => setPopupInfo(null),\n          children: /*#__PURE__*/_jsxDEV(StyledPopUpContent, {\n            children: [/*#__PURE__*/_jsxDEV(StyledText, {\n              children: popupInfo.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StyledText, {\n              children: popupInfo.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StyledText, {\n              children: popupInfo.city\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"pPHxYjtysKiICL+cc6rmKnQdHQc=\", false, function () {\n  return [useMediaQuery];\n});\n\n_c5 = Home;\nexport default Home;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"StyledHome\");\n$RefreshReg$(_c2, \"StyledPopUpContent\");\n$RefreshReg$(_c3, \"StyledText\");\n$RefreshReg$(_c4, \"MapWrapper\");\n$RefreshReg$(_c5, \"Home\");","map":{"version":3,"names":["React","useState","useRef","useMemo","Map","Marker","Popup","useMediaQuery","styled","MAP_TOKEN","pois","pinIcon","Sidebar","StyledHome","div","p","isTabletOrMobile","StyledPopUpContent","StyledText","MapWrapper","mapStyle","width","minHeight","Home","popupInfo","setPopupInfo","isDrawerOpen","setIsDrawerOpen","query","refMap","zoomIntoStore","store","current","flyTo","center","longitude","latitude","zoom","pins","map","index","e","originalEvent","stopPropagation","Number","name","address","city"],"sources":["/Users/ilirs/Desktop/task ff/tech-homework-frontend-ext/src/pages/Home/index.js"],"sourcesContent":["import React, { useState, useRef, useMemo } from 'react';\nimport Map, { Marker, Popup } from 'react-map-gl';\nimport { useMediaQuery } from 'react-responsive';\nimport styled from 'styled-components';\n\nimport { MAP_TOKEN } from 'config';\nimport pois from 'data/pois.json';\nimport pinIcon from 'assets/icons/location-pin.png';\nimport Sidebar from 'components/Sidebar';\n\nconst StyledHome = styled.div`\n  display: flex;\n  flex-direction: ${(p) => (p.isTabletOrMobile ? 'column' : 'row')};\n`;\n\nconst StyledPopUpContent = styled.div`\n  padding: 10px;\n`;\n\nconst StyledText = styled.div``;\n\nconst MapWrapper = styled.div`\n  width: 100%;\n`;\n\nconst mapStyle = {\n  width: '100%',\n  minHeight: '100vh',\n};\n\nconst Home = () => {\n  const [popupInfo, setPopupInfo] = useState(null);\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n  const isTabletOrMobile = useMediaQuery({ query: '(max-width: 1224px)' });\n  const refMap = useRef();\n\n  const zoomIntoStore = (store) => {\n    refMap.current.flyTo({\n      center: [store.longitude, store.latitude],\n      zoom: 15,\n    });\n    // Close drawer\n    isTabletOrMobile && setIsDrawerOpen(false);\n  };\n\n  const pins = useMemo(\n    () =>\n      pois.map((p, index) => (\n        <Marker\n          key={`marker-${index}`}\n          onClick={(e) => {\n            e.originalEvent.stopPropagation();\n            setPopupInfo(p);\n          }}\n          longitude={p.longitude}\n          latitude={p.latitude}\n          anchor=\"bottom\"\n        >\n          <img src={pinIcon} alt=\"pin-icon\" width=\"30\" height=\"30\" />\n        </Marker>\n      )),\n    []\n  );\n\n  return (\n    <StyledHome isTabletOrMobile={isTabletOrMobile}>\n      <Sidebar\n        title=\"Stores\"\n        zoomIntoStore={zoomIntoStore}\n        setIsDrawerOpen={setIsDrawerOpen}\n        isDrawerOpen={isDrawerOpen}\n      />\n      <MapWrapper data-testid=\"map-gl\">\n        <Map\n          ref={refMap}\n          initialViewState={{\n            latitude: 40,\n            longitude: -100,\n            zoom: 3.5,\n          }}\n          style={mapStyle}\n          mapStyle=\"mapbox://styles/mapbox/light-v10\"\n          mapboxAccessToken={MAP_TOKEN}\n        >\n          {pins}\n          {popupInfo && (\n            <Popup\n              anchor=\"top\"\n              longitude={Number(popupInfo.longitude)}\n              latitude={Number(popupInfo.latitude)}\n              onClose={() => setPopupInfo(null)}\n            >\n              <StyledPopUpContent>\n                <StyledText>{popupInfo.name}</StyledText>\n                <StyledText>{popupInfo.address}</StyledText>\n                <StyledText>{popupInfo.city}</StyledText>\n              </StyledPopUpContent>\n            </Popup>\n          )}\n        </Map>\n      </MapWrapper>\n    </StyledHome>\n  );\n};\n\nexport default Home;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,OAAlC,QAAiD,OAAjD;AACA,OAAOC,GAAP,IAAcC,MAAd,EAAsBC,KAAtB,QAAmC,cAAnC;AACA,SAASC,aAAT,QAA8B,kBAA9B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,SAASC,SAAT,QAA0B,QAA1B;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,OAAOC,OAAP,MAAoB,+BAApB;AACA,OAAOC,OAAP,MAAoB,oBAApB;;AAEA,MAAMC,UAAU,GAAGL,MAAM,CAACM,GAAI;AAC9B;AACA,oBAAqBC,CAAD,IAAQA,CAAC,CAACC,gBAAF,GAAqB,QAArB,GAAgC,KAAO;AACnE,CAHA;KAAMH,U;AAKN,MAAMI,kBAAkB,GAAGT,MAAM,CAACM,GAAI;AACtC;AACA,CAFA;MAAMG,kB;AAIN,MAAMC,UAAU,GAAGV,MAAM,CAACM,GAAI,EAA9B;MAAMI,U;AAEN,MAAMC,UAAU,GAAGX,MAAM,CAACM,GAAI;AAC9B;AACA,CAFA;MAAMK,U;AAIN,MAAMC,QAAQ,GAAG;EACfC,KAAK,EAAE,MADQ;EAEfC,SAAS,EAAE;AAFI,CAAjB;;AAKA,MAAMC,IAAI,GAAG,MAAM;EAAA;;EACjB,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BxB,QAAQ,CAAC,IAAD,CAA1C;EACA,MAAM,CAACyB,YAAD,EAAeC,eAAf,IAAkC1B,QAAQ,CAAC,KAAD,CAAhD;EACA,MAAMe,gBAAgB,GAAGT,aAAa,CAAC;IAAEqB,KAAK,EAAE;EAAT,CAAD,CAAtC;EACA,MAAMC,MAAM,GAAG3B,MAAM,EAArB;;EAEA,MAAM4B,aAAa,GAAIC,KAAD,IAAW;IAC/BF,MAAM,CAACG,OAAP,CAAeC,KAAf,CAAqB;MACnBC,MAAM,EAAE,CAACH,KAAK,CAACI,SAAP,EAAkBJ,KAAK,CAACK,QAAxB,CADW;MAEnBC,IAAI,EAAE;IAFa,CAArB,EAD+B,CAK/B;;IACArB,gBAAgB,IAAIW,eAAe,CAAC,KAAD,CAAnC;EACD,CAPD;;EASA,MAAMW,IAAI,GAAGnC,OAAO,CAClB,MACEO,IAAI,CAAC6B,GAAL,CAAS,CAACxB,CAAD,EAAIyB,KAAJ,kBACP,QAAC,MAAD;IAEE,OAAO,EAAGC,CAAD,IAAO;MACdA,CAAC,CAACC,aAAF,CAAgBC,eAAhB;MACAlB,YAAY,CAACV,CAAD,CAAZ;IACD,CALH;IAME,SAAS,EAAEA,CAAC,CAACoB,SANf;IAOE,QAAQ,EAAEpB,CAAC,CAACqB,QAPd;IAQE,MAAM,EAAC,QART;IAAA,uBAUE;MAAK,GAAG,EAAEzB,OAAV;MAAmB,GAAG,EAAC,UAAvB;MAAkC,KAAK,EAAC,IAAxC;MAA6C,MAAM,EAAC;IAApD;MAAA;MAAA;MAAA;IAAA;EAVF,GACQ,UAAS6B,KAAM,EADvB;IAAA;IAAA;IAAA;EAAA,QADF,CAFgB,EAgBlB,EAhBkB,CAApB;EAmBA,oBACE,QAAC,UAAD;IAAY,gBAAgB,EAAExB,gBAA9B;IAAA,wBACE,QAAC,OAAD;MACE,KAAK,EAAC,QADR;MAEE,aAAa,EAAEc,aAFjB;MAGE,eAAe,EAAEH,eAHnB;MAIE,YAAY,EAAED;IAJhB;MAAA;MAAA;MAAA;IAAA,QADF,eAOE,QAAC,UAAD;MAAY,eAAY,QAAxB;MAAA,uBACE,QAAC,GAAD;QACE,GAAG,EAAEG,MADP;QAEE,gBAAgB,EAAE;UAChBO,QAAQ,EAAE,EADM;UAEhBD,SAAS,EAAE,CAAC,GAFI;UAGhBE,IAAI,EAAE;QAHU,CAFpB;QAOE,KAAK,EAAEjB,QAPT;QAQE,QAAQ,EAAC,kCARX;QASE,iBAAiB,EAAEX,SATrB;QAAA,WAWG6B,IAXH,EAYGd,SAAS,iBACR,QAAC,KAAD;UACE,MAAM,EAAC,KADT;UAEE,SAAS,EAAEoB,MAAM,CAACpB,SAAS,CAACW,SAAX,CAFnB;UAGE,QAAQ,EAAES,MAAM,CAACpB,SAAS,CAACY,QAAX,CAHlB;UAIE,OAAO,EAAE,MAAMX,YAAY,CAAC,IAAD,CAJ7B;UAAA,uBAME,QAAC,kBAAD;YAAA,wBACE,QAAC,UAAD;cAAA,UAAaD,SAAS,CAACqB;YAAvB;cAAA;cAAA;cAAA;YAAA,QADF,eAEE,QAAC,UAAD;cAAA,UAAarB,SAAS,CAACsB;YAAvB;cAAA;cAAA;cAAA;YAAA,QAFF,eAGE,QAAC,UAAD;cAAA,UAAatB,SAAS,CAACuB;YAAvB;cAAA;cAAA;cAAA;YAAA,QAHF;UAAA;YAAA;YAAA;YAAA;UAAA;QANF;UAAA;UAAA;UAAA;QAAA,QAbJ;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAPF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAuCD,CAzED;;GAAMxB,I;UAGqBhB,a;;;MAHrBgB,I;AA2EN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}